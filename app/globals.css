@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== BESPOKE ACADEMY DESIGN SYSTEM ===== */
/* Mood: contemplative, courageous, grounded, humane */
/* Surfaces: inky charcoal with warm, lamplight tints */

:root {
  /* Base (dark study) */
  --bg: 14 16 22;           /* #0e1016 */
  --surface: 19 22 31;      /* #13161f */
  --surface-2: 25 28 39;    /* #191c27 */
  --text: 238 241 246;      /* #eef1f6 */
  --muted: 152 162 179;     /* #98a2b3 */
  --ring: 171 196 255;      /* focus ring */
  --border: 40 44 58;

  /* Virtues (semantic primaries) */
  --wisdom: 126 180 255;    /* blue ~ #7eb4ff */
  --courage: 255 145 92;    /* ember ~ #ff915c */
  --justice: 90 214 161;    /* verdant ~ #5ad6a1 */
  --temperance: 180 160 255;/* plum ~ #b4a0ff */

  /* Framework accents (chips/badges) */
  --spartan: 255 173 68;    /* ochre */
  --bushido: 226 76 67;     /* vermillion */
  --stoic: 103 132 173;     /* slate blue */
  --monastic: 196 172 136;  /* parchment */
  --yogic: 120 210 190;     /* jade mist */
  --indigenous: 157 202 82; /* sage */
  --martial: 119 119 119;   /* steel */
  --sufi: 255 196 110;      /* saffron */
  --ubuntu: 102 186 255;    /* sky */
  --highperf: 255 115 179;  /* neon rose */

  /* Elevation & radii */
  --radius: 16px;
  --shadow-1: 0 6px 22px rgba(0,0,0,.25),0 1px 0 rgba(255,255,255,.02) inset;
  --shadow-2: 0 12px 42px rgba(0,0,0,.35),0 1px 0 rgba(255,255,255,.03) inset;

  /* Motion */
  --ease-soft: cubic-bezier(.22,.61,.36,1);
  --ease-snap: cubic-bezier(.3,1,.3,1);
  --dur-fast: 160ms;
  --dur-med: 240ms;
  --dur-slow: 420ms;
}

html { 
  color-scheme: dark; 
}

body {
  background: rgb(var(--bg));
  color: rgb(var(--text));
  font-feature-settings: "rlig" 1, "calt" 1;
}

/* ===== BASE STYLES ===== */
@layer base {
  * {
    @apply border-border;
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Focus styles */
  *:focus-visible {
    @apply outline-none ring-2 ring-[rgb(var(--ring))] ring-offset-2 ring-offset-[rgb(var(--bg))];
  }
}

/* ===== COMPONENT UTILITIES ===== */
@layer components {
  /* Card Base */
  .card-base {
    @apply rounded-2xl bg-[rgb(var(--surface))] border border-[rgb(var(--border))] shadow-card p-5;
  }

  /* Panel Base */
  .panel-base {
    @apply rounded-2xl bg-[rgb(var(--surface-2))] border border-[rgb(var(--border))] shadow-pop p-6;
  }

  /* Primary button (virtue-aware) */
  .btn-primary {
    @apply rounded-xl px-4 py-2 font-medium text-black
      bg-[rgb(var(--wisdom))] hover:brightness-110 active:brightness-95
      transition duration-fast ease-snap focus:outline-none
      focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }

  /* Secondary button */
  .btn-secondary {
    @apply rounded-xl px-4 py-2 font-medium text-[rgb(var(--text))]
      bg-[rgb(var(--surface))] border border-[rgb(var(--border))]
      hover:bg-[rgb(var(--surface-2))] transition duration-fast ease-soft
      focus:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }

  /* Ghost button */
  .btn-ghost {
    @apply rounded-xl px-4 py-2 font-medium text-[rgb(var(--muted))]
      hover:text-[rgb(var(--text))] hover:bg-[rgb(var(--surface))] 
      transition duration-fast ease-soft focus:outline-none
      focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }

  /* Framework chip */
  .framework-chip {
    @apply inline-flex items-center gap-1 rounded-full px-3 py-1
      text-xs font-medium bg-[rgb(var(--surface-2))] border border-[rgb(var(--border))]
      shadow-card;
  }

  /* Hero strip for framework page */
  .hero-strip {
    @apply rounded-2xl p-6 shadow-pop border border-[rgb(var(--border))]
      bg-grad-wisdom;
  }

  /* Breath circle ring (virtue color) */
  .breath-circle {
    @apply relative grid place-items-center size-44 rounded-full
      bg-[rgb(var(--surface-2))] border border-[rgb(var(--border))] shadow-card
      ring-1 ring-[rgb(var(--wisdom))/0.25];
  }

  /* Input Base */
  .input-base {
    @apply w-full px-4 py-3 rounded-xl bg-[rgb(var(--surface))] border border-[rgb(var(--border))]
      text-[rgb(var(--text))] placeholder-[rgb(var(--muted))] transition duration-fast ease-soft
      focus:bg-[rgb(var(--surface-2))] focus:border-[rgb(var(--wisdom))] focus:outline-none
      focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }

  /* Badge variants */
  .badge-primary {
    @apply bg-[rgb(var(--wisdom)/0.2)] text-[rgb(var(--wisdom))] border border-[rgb(var(--wisdom)/0.3)];
  }

  .badge-courage {
    @apply bg-[rgb(var(--courage)/0.2)] text-[rgb(var(--courage))] border border-[rgb(var(--courage)/0.3)];
  }

  .badge-justice {
    @apply bg-[rgb(var(--justice)/0.2)] text-[rgb(var(--justice))] border border-[rgb(var(--justice)/0.3)];
  }

  .badge-temperance {
    @apply bg-[rgb(var(--temperance)/0.2)] text-[rgb(var(--temperance))] border border-[rgb(var(--temperance)/0.3)];
  }

  /* Navigation */
  .nav-link {
    @apply px-4 py-2 rounded-xl text-[rgb(var(--muted))] transition duration-fast ease-soft
      hover:text-[rgb(var(--text))] hover:bg-[rgb(var(--surface))] focus:outline-none
      focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }

  .nav-link-active {
    @apply text-[rgb(var(--wisdom))] bg-[rgb(var(--surface))];
  }

  /* Modal */
  .modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-md z-50;
  }

  .modal-content {
    @apply fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
      w-full max-w-md p-6 rounded-2xl bg-[rgb(var(--surface))] border border-[rgb(var(--border))]
      shadow-pop z-50;
  }

  /* Toast */
  .toast {
    @apply fixed bottom-4 right-4 p-4 rounded-xl bg-[rgb(var(--surface))] border border-[rgb(var(--border))]
      shadow-pop z-50 max-w-sm;
  }

  /* Tooltip */
  .tooltip {
    @apply absolute z-50 px-3 py-2 text-sm bg-[rgb(var(--surface-2))] text-[rgb(var(--text))]
      rounded-xl shadow-pop border border-[rgb(var(--border))]
      opacity-0 pointer-events-none transition-opacity duration-fast;
  }

  .tooltip-visible {
    @apply opacity-100;
  }

  /* Loading states */
  .loading-pulse {
    @apply animate-pulse bg-[rgb(var(--surface-2))] rounded-xl;
  }

  .loading-spinner {
    @apply animate-spin rounded-full border-2 border-[rgb(var(--surface-2))] border-t-[rgb(var(--wisdom))];
  }

  /* Status indicators */
  .status-online {
    @apply w-3 h-3 bg-[rgb(var(--justice))] rounded-full;
  }

  .status-offline {
    @apply w-3 h-3 bg-[rgb(var(--muted))] rounded-full;
  }

  .status-warning {
    @apply w-3 h-3 bg-[rgb(var(--courage))] rounded-full;
  }

  /* Waveform Animation */
  .waveform {
    @apply flex items-center gap-1;
  }

  .waveform-bar {
    @apply h-8 bg-[rgb(var(--wisdom))] rounded-full animate-pulse;
  }

  /* Custom scrollbar */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--wisdom)/0.3) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgb(var(--wisdom)/0.3);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--wisdom)/0.5);
  }
}

/* ===== ANIMATIONS ===== */
@layer utilities {
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px rgb(var(--wisdom)/0.3); }
    50% { box-shadow: 0 0 40px rgb(var(--wisdom)/0.6); }
  }

  @keyframes breathe {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .animate-breathe {
    animation: breathe 4s ease-in-out infinite;
  }

  /* Micro-interaction standards */
  .hover-lift {
    @apply transition duration-fast ease-soft hover:translate-y-[1px] hover:shadow-pop;
  }

  .hover-press {
    @apply active:translate-y-[0] active:brightness-95;
  }

  .focus-ring {
    @apply focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))];
  }
}

/* ===== RESPONSIVE UTILITIES ===== */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .container-responsive {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .grid-responsive {
    @apply grid gap-4 sm:gap-6 lg:gap-8;
  }

  .padding-responsive {
    @apply p-4 sm:p-6 lg:p-8;
  }

  .margin-responsive {
    @apply m-4 sm:m-6 lg:m-8;
  }
}

/* ===== ACCESSIBILITY ===== */
@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .reduced-motion {
    @apply motion-reduce:animate-none motion-reduce:transition-none;
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .no-print {
    display: none !important;
  }

  .print-break {
    page-break-before: always;
  }

  .print-break-avoid {
    page-break-inside: avoid;
  }
} 